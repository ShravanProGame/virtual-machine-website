/* Reset */
body { margin: 0; overflow: hidden; font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #000; user-select: none; }

/* Boot Screen */
#boot-screen {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: #000; color: white; display: flex; flex-direction: column;
    justify-content: center; align-items: center; z-index: 99999;
    transition: opacity 1s ease;
}
.boot-logo { font-size: 80px; margin-bottom: 50px; }
.loading-bar { width: 200px; height: 4px; background: #333; border-radius: 2px; overflow: hidden; }
.progress { width: 0%; height: 100%; background: white; animation: load 2s forwards; }
@keyframes load { 0% { width: 0%; } 100% { width: 100%; } }

/* Desktop */
#desktop {
    width: 100vw; height: 100vh;
    background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1920&q=80') center/cover;
    opacity: 0; transition: opacity 1s; /* Fades in after boot */
    position: relative;
}

/* Top Bar */
#top-bar {
    height: 28px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px);
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 15px; color: white; font-size: 13px;
}
.left span { margin-right: 15px; cursor: pointer; }

/* Desktop Icons Grid */
#app-grid {
    padding: 20px;
    display: flex; flex-direction: column; flex-wrap: wrap; align-content: flex-start;
    height: 90vh; gap: 15px;
}
.app-icon {
    width: 70px; text-align: center; color: white; cursor: pointer;
    text-shadow: 0 1px 3px rgba(0,0,0,0.8);
}
.app-icon-img { font-size: 40px; margin-bottom: 5px; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3)); }
.app-icon span { font-size: 12px; background: rgba(0,0,0,0.2); padding: 2px 6px; border-radius: 4px; }

/* Windows */
.window {
    position: absolute; width: 600px; height: 400px; background: white;
    border-radius: 8px; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    display: flex; flex-direction: column; overflow: hidden; resize: both;
    animation: popIn 0.2s cubic-bezier(0.1, 0.9, 0.2, 1);
}
@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

.window-header {
    height: 30px; background: #e0e0e0; border-bottom: 1px solid #ccc;
    display: flex; align-items: center; justify-content: space-between; padding: 0 10px; cursor: move;
}
.close-btn { cursor: pointer; color: #ff5f56; font-weight: bold; font-size: 16px; }

/* Dock */
#dock-container { position: absolute; bottom: 10px; width: 100%; display: flex; justify-content: center; }
#dock {
    background: rgba(255,255,255,0.2); backdrop-filter: blur(15px);
    padding: 10px; border-radius: 16px; display: flex; gap: 15px;
}
.dock-icon { font-size: 30px; cursor: pointer; transition: transform 0.2s; }
.dock-icon:hover { transform: scale(1.2) translateY(-10px); }
