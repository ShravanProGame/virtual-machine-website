/* --- RESET & BASICS --- */
body { margin: 0; overflow: hidden; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #000; user-select: none; }

/* --- BOOT SCREEN --- */
#boot-screen {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: #000; color: white; display: flex; flex-direction: column;
    align-items: center; justify-content: center; z-index: 99999;
    transition: opacity 1s ease-out;
}
.boot-icon { font-size: 80px; margin-bottom: 40px; }
.loading-bar { width: 200px; height: 4px; background: #333; border-radius: 2px; overflow: hidden; }
.progress { width: 0%; height: 100%; background: white; animation: bootLoad 2.5s forwards; }
@keyframes bootLoad { 0% { width: 0; } 100% { width: 100%; } }

/* --- DESKTOP --- */
#desktop {
    width: 100vw; height: 100vh;
    background: url('https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?auto=format&fit=crop&w=1920&q=80') center/cover;
    position: relative; opacity: 0; transition: opacity 1s;
}

/* --- TOP BAR --- */
.top-bar {
    width: 100%; height: 28px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px);
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 20px; box-sizing: border-box; color: white; font-size: 13px;
    position: absolute; top: 0; z-index: 5000;
}
.top-bar .left span { margin-right: 15px; cursor: pointer; }
.top-bar .right { display: flex; gap: 15px; align-items: center; }

/* --- ICONS GRID --- */
#desktop-grid {
    padding: 50px 20px; display: flex; flex-direction: column; flex-wrap: wrap;
    align-content: flex-end; /* Mac style: icons on right */
    height: 80vh; gap: 20px; pointer-events: none; /* Let clicks pass through */
}
.app-icon {
    width: 80px; text-align: center; color: white; cursor: pointer; pointer-events: auto;
    text-shadow: 0 1px 3px rgba(0,0,0,0.8); transition: 0.2s;
}
.app-icon:hover { opacity: 0.8; }
.icon-img { font-size: 45px; margin-bottom: 5px; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.4)); }
.icon-label { font-size: 12px; background: rgba(0,0,0,0.2); padding: 2px 6px; border-radius: 4px; }

/* --- WINDOWS --- */
.window {
    position: absolute; width: 700px; height: 500px; background: #fff;
    border-radius: 10px; box-shadow: 0 25px 50px rgba(0,0,0,0.5);
    display: flex; flex-direction: column; overflow: hidden; resize: both;
    animation: openWindow 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;
}
@keyframes openWindow { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

.title-bar {
    height: 30px; background: linear-gradient(to bottom, #ebebeb, #d5d5d5);
    border-bottom: 1px solid #bbb; display: flex; align-items: center; padding: 0 10px;
    cursor: default; user-select: none;
}
.traffic-lights { display: flex; gap: 8px; margin-right: 15px; }
.light { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }
.close { background: #ff5f56; border: 1px solid #e0443e; }
.min { background: #ffbd2e; border: 1px solid #dea123; }
.max { background: #27c93f; border: 1px solid #1aab29; }
.window-title { flex-grow: 1; text-align: center; font-weight: 600; color: #444; font-size: 13px; }

.window-content { flex-grow: 1; background: white; position: relative; }
iframe { width: 100%; height: 100%; border: none; }

/* --- DOCK --- */
.dock-container {
    position: absolute; bottom: 10px; width: 100%; display: flex; justify-content: center; z-index: 6000;
}
#dock {
    background: rgba(255,255,255,0.2); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1);
    padding: 10px 15px; border-radius: 20px; display: flex; gap: 15px; align-items: flex-end;
}
.dock-item {
    width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center;
    font-size: 28px; color: white; cursor: pointer; transition: transform 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.dock-item:hover { transform: scale(1.2) translateY(-10px); margin: 0 5px; }
.dock-tooltip {
    position: absolute; top: -40px; background: rgba(0,0,0,0.8); color: white;
    padding: 4px 8px; border-radius: 5px; font-size: 12px; opacity: 0; pointer-events: none; transition: 0.2s;
}
.dock-item:hover .dock-tooltip { opacity: 1; top: -50px; }

/* --- INTERNAL APPS CSS --- */
.terminal { background: #1e1e1e; color: #00ff00; padding: 10px; font-family: monospace; height: 100%; overflow-y: auto; }
.terminal input { background: transparent; border: none; color: white; outline: none; width: 100%; }
.file-grid { padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px; }
.file-card { text-align: center; cursor: pointer; }
.file-card:hover { background: #eee; border-radius: 5px; }
